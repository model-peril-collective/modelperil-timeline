{"version":3,"file":"static/js/Article.ea7bb090.chunk.js","mappings":"+MAMYA,E,kDAIX,SAJWA,GAAAA,EAAS,YAATA,EAAS,cAATA,EAAS,cAIpB,CAJWA,IAAAA,EAAS,KA0BrB,IAyGA,EAzGgB,SAACC,GACf,IAGIC,EAHIC,EAA2BF,EAA3BE,QAAQ,EAAmBF,EAAlBG,KAAAA,OAAI,MAAG,OAAM,EACxBC,GAAaC,EAAAA,EAAAA,aAGG,WAAX,OAAPH,QAAO,IAAPA,OAAO,EAAPA,EAASI,QACXL,EAAeM,EAAAA,KAAAA,CAAQ,YAAgCL,EAAQM,WAGjE,IAAMC,EAAgB,SAACD,GACrB,IAAIE,EAAe,GAUnB,MARuB,kBAAZF,EACTE,EAAeF,EACZG,WAAW,cAAe,4BAC1BA,WAAW,eAAgB,WACF,kBAAZH,IAChBE,EAAeF,EAAQI,YAGlBF,CACT,EAqEA,OA1BAG,EAAAA,EAAAA,kBAAgB,WACd,IAAMC,EAAMC,EAAAA,GAAAA,SAAa,WACvBA,EAAAA,GAAAA,eAAoBC,EAAAA,GAEpB,IAA8BC,EAU9BF,EAAAA,GAAAA,KAAU,mBAAoB,CAC5BG,UAAW,EACXC,QAAS,EACTC,MAAO,GACPC,EAAG,IACHC,eAf4BL,EAeQ,mBAd7B,CACLM,IAAK,kBACLC,SAAS,EACTC,OAAO,EACPC,MAAO,iBACPT,QAASA,KAWf,GAAGb,GAEH,OAAO,kBAAMU,EAAIa,QAAS,CAC5B,GAAG,CAACvB,KAGF,iBAAKwB,IAAKxB,EAAYyB,WAAWC,EAAAA,EAAAA,GAAK,kBAAmB3B,GAAM,WAC7D,kBAAO0B,UAAU,gBAAe,SArEjB,SAACE,GAClB,IAAIC,EAASD,EAAKE,KAMlB,OAJIF,EAAKG,OAASH,EAAKG,MAAMC,OAAS,IAAGH,GAAM,YAASD,EAAKG,QAEzDH,EAAKK,KAAOL,EAAKK,IAAID,OAAS,IAAGH,GAAM,WAAQD,EAAKK,OAEjD,cAAGP,WAAWC,EAAAA,EAAAA,GAAK,sBAAsB,SAAEE,GACpD,CA6DsCK,CAAWnC,EAAQ6B,SACrD,qBAASF,WAAWC,EAAAA,EAAAA,GAAK,mBAAmB,UACzC5B,EAAQoC,OAASpC,EAAQoC,MAAMH,OAAS,IACvC,mBAAQN,UAAU,iBAAgB,UAChC,eAAIA,UAAU,uBAAsB,SAAE3B,EAAQoC,UA/D3B,SAACpC,GAC5B,IAAQM,EAA2BN,EAA3BM,QAAS+B,EAAkBrC,EAAlBqC,QAEjB,OAFmCrC,EAATI,MAGxB,KAAKP,EAAUyC,KACb,OACE,gBACEX,WAAWC,EAAAA,EAAAA,GAAK,gBAChBW,wBAAyB,CAAEC,OAAQjC,EAAcD,MAIvD,KAAKT,EAAU4C,MACb,OACE,gBAAKd,WAAWC,EAAAA,EAAAA,GAAK,eAAgB,SAAS,UAC5C,gBAAKc,IAAK3C,MAIhB,KAAKF,EAAU8C,MACb,OACE,iBAAKhB,WAAWC,EAAAA,EAAAA,GAAK,iBAAiB,WACpC,uBAAYD,WAAWC,EAAAA,EAAAA,GAAK,yBAAyB,SAAEtB,KACvD,cAAGqB,WAAWC,EAAAA,EAAAA,GAAK,yBAAyB,SAAES,OAGpD,QACE,OAAO,wBAEb,CAqCOO,CAAqB5C,QAI9B,C","sources":["components/article/Article.tsx"],"sourcesContent":["import clsx from 'clsx';\nimport { createRef, useLayoutEffect } from 'react';\nimport { gsap } from 'gsap';\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\nimport './Article.scss';\n\nexport enum PieceType {\n  Full = 'full',\n  Image = 'image',\n  Quote = 'quote',\n}\n\nexport interface Date {\n  year: string;\n  month?: string;\n  day?: string;\n}\nexport interface Piece {\n  content: string | string[];\n  date: Date;\n  description?: string;\n  speaker?: string;\n  title?: string;\n  type: PieceType;\n}\n\nexport interface ArticleProps {\n  article: Piece;\n  handleInView?: () => void;\n  side?: string;\n}\n\nconst Article = (props: ArticleProps) => {\n  const { article, side = 'left' } = props;\n  const articleRef = createRef<HTMLDivElement>();\n\n  let sampleImgSrc: string;\n  if (article?.type === 'image') {\n    sampleImgSrc = require(`../../content/timelineImages/${article.content}`);\n  }\n\n  const handleContent = (content: string | string[]): string => {\n    let convertedStr = '';\n\n    if (typeof content === 'string') {\n      convertedStr = content\n        .replaceAll('<highlight>', '<span class=\"highlight\">')\n        .replaceAll('</highlight>', '</span>');\n    } else if (typeof content === 'object') {\n      convertedStr = content.toString();\n    }\n\n    return convertedStr;\n  };\n\n  const renderDate = (date: Date) => {\n    let result = date.year;\n\n    if (date.month && date.month.length > 0) result += `, ${date.month}`;\n\n    if (date.day && date.day.length > 0) result += ` ${date.day}`;\n\n    return <p className={clsx('article-aside_date')}>{result}</p>;\n  };\n\n  const renderArticleContent = (article: Piece) => {\n    const { content, speaker, type } = article;\n\n    switch (type) {\n      case PieceType.Full:\n        return (\n          <div\n            className={clsx('article-body')}\n            dangerouslySetInnerHTML={{ __html: handleContent(content) }}\n          />\n        );\n      // TODO: refactor image into a child component of the article body\n      case PieceType.Image:\n        return (\n          <div className={clsx('article-body', 'image')}>\n            <img src={sampleImgSrc} />\n          </div>\n        );\n      // TODO: refactor quote into a child component of the article-body\n      case PieceType.Quote: // no example of standalone quote\n        return (\n          <div className={clsx('article-quote')}>\n            <blockquote className={clsx('article-quote_content')}>{content}</blockquote>\n            <p className={clsx('article-quote_speaker')}>{speaker}</p>\n          </div>\n        );\n      default:\n        return <></>;\n    }\n  };\n\n  useLayoutEffect(() => {\n    const ctx = gsap.context(() => {\n      gsap.registerPlugin(ScrollTrigger);\n\n      const scrollTriggerOptions = (trigger: string) => {\n        return {\n          end: 'top center+=15%',\n          markers: true,\n          scrub: true,\n          start: 'top bottom-=5%',\n          trigger: trigger,\n        };\n      };\n\n      gsap.from('.article-content', {\n        autoAlpha: 0,\n        stagger: 1.0,\n        scale: 0.7,\n        x: 300,\n        scrollTrigger: scrollTriggerOptions('.article-content'),\n      });\n    }, articleRef);\n\n    return () => ctx.revert();\n  }, [articleRef]);\n\n  return (\n    <div ref={articleRef} className={clsx('article-wrapper', side)}>\n      <aside className=\"article-aside\">{renderDate(article.date)}</aside>\n      <article className={clsx('article-content')}>\n        {article.title && article.title.length > 0 && (\n          <header className=\"article-header\">\n            <h2 className=\"article-header_title\">{article.title}</h2>\n          </header>\n        )}\n        {renderArticleContent(article)}\n      </article>\n    </div>\n  );\n};\n\nexport default Article;\n"],"names":["PieceType","props","sampleImgSrc","article","side","articleRef","createRef","type","require","content","handleContent","convertedStr","replaceAll","toString","useLayoutEffect","ctx","gsap","ScrollTrigger","trigger","autoAlpha","stagger","scale","x","scrollTrigger","end","markers","scrub","start","revert","ref","className","clsx","date","result","year","month","length","day","renderDate","title","speaker","Full","dangerouslySetInnerHTML","__html","Image","src","Quote","renderArticleContent"],"sourceRoot":""}
{"version":3,"file":"static/js/Article.0ad04cf3.chunk.js","mappings":"2NAMO,IAAKA,EAAS,SAATA,GAAS,OAATA,EAAS,YAATA,EAAS,cAATA,EAAS,cAATA,CAAS,MA0BrB,MAyGA,EAzGiBC,IACf,MAAM,QAAEC,EAAO,KAAEC,EAAO,QAAWF,EAC7BG,GAAaC,EAAAA,EAAAA,aAEnB,IAAIC,EACkB,WAAX,OAAPJ,QAAO,IAAPA,OAAO,EAAPA,EAASK,QACXD,EAAeE,EAAAA,IAAAA,CAAQ,KAADC,OAAiCP,EAAQQ,WAGjE,MAAMC,EAAiBD,IACrB,IAAIE,EAAe,GAUnB,MARuB,kBAAZF,EACTE,EAAeF,EACZG,WAAW,cAAe,4BAC1BA,WAAW,eAAgB,WACF,kBAAZH,IAChBE,EAAeF,EAAQI,YAGlBF,CAAY,EAsErB,OA1BAG,EAAAA,EAAAA,kBAAgB,KACd,MAAMC,EAAMC,EAAAA,GAAKC,SAAQ,KACvBD,EAAAA,GAAKE,eAAeC,EAAAA,GAEUC,MAU9BJ,EAAAA,GAAKK,KAAK,mBAAoB,CAC5BC,UAAW,EACXC,QAAS,EACTC,MAAO,GACPC,EAAG,IACHC,eAf4BN,EAeQ,mBAd7B,CACLO,IAAK,kBACLC,SAAS,EACTC,OAAO,EACPC,MAAO,iBACPV,QAASA,KAUX,GACDjB,GAEH,MAAO,IAAMY,EAAIgB,QAAQ,GACxB,CAAC5B,KAGF6B,EAAAA,EAAAA,MAAA,OAAKC,IAAK9B,EAAY+B,WAAWC,EAAAA,EAAAA,GAAK,kBAAmBjC,GAAMkC,SAAA,EAC7DC,EAAAA,EAAAA,KAAA,SAAOH,UAAU,gBAAeE,SArEhBE,KAClB,IAAIC,EAASD,EAAKE,KAMlB,OAJIF,EAAKG,OAASH,EAAKG,MAAMC,OAAS,IAAGH,GAAM,KAAA/B,OAAS8B,EAAKG,QAEzDH,EAAKK,KAAOL,EAAKK,IAAID,OAAS,IAAGH,GAAM,IAAA/B,OAAQ8B,EAAKK,OAEjDN,EAAAA,EAAAA,KAAA,KAAGH,WAAWC,EAAAA,EAAAA,GAAK,sBAAsBC,SAAEG,GAAW,EA8DzBK,CAAW3C,EAAQqC,SACrDN,EAAAA,EAAAA,MAAA,WAASE,WAAWC,EAAAA,EAAAA,GAAK,mBAAmBC,SAAA,CACzCnC,EAAQ4C,OAAS5C,EAAQ4C,MAAMH,OAAS,IACvCL,EAAAA,EAAAA,KAAA,UAAQH,UAAU,iBAAgBE,UAChCC,EAAAA,EAAAA,KAAA,MAAIH,UAAU,uBAAsBE,SAAEnC,EAAQ4C,UA/D1B5C,KAC5B,MAAM,QAAEQ,EAAO,QAAEqC,EAAO,KAAExC,GAASL,EAEnC,OAAQK,GACN,KAAKP,EAAUgD,KACb,OACEV,EAAAA,EAAAA,KAAA,OACEH,WAAWC,EAAAA,EAAAA,GAAK,gBAChBa,wBAAyB,CAAEC,OAAQvC,EAAcD,MAIvD,KAAKV,EAAUmD,MACb,OACEb,EAAAA,EAAAA,KAAA,OAAKH,WAAWC,EAAAA,EAAAA,GAAK,eAAgB,SAASC,UAC5CC,EAAAA,EAAAA,KAAA,OAAKc,IAAK9C,MAIhB,KAAKN,EAAUqD,MACb,OACEpB,EAAAA,EAAAA,MAAA,OAAKE,WAAWC,EAAAA,EAAAA,GAAK,iBAAiBC,SAAA,EACpCC,EAAAA,EAAAA,KAAA,cAAYH,WAAWC,EAAAA,EAAAA,GAAK,yBAAyBC,SAAE3B,KACvD4B,EAAAA,EAAAA,KAAA,KAAGH,WAAWC,EAAAA,EAAAA,GAAK,yBAAyBC,SAAEU,OAGpD,QACE,OAAOT,EAAAA,EAAAA,KAAAgB,EAAAA,SAAA,IACX,EAsCKC,CAAqBrD,QAEpB,C","sources":["components/article/Article.tsx"],"sourcesContent":["import clsx from 'clsx';\r\nimport { createRef, useLayoutEffect } from 'react';\r\nimport { gsap } from 'gsap';\r\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\r\nimport './Article.scss';\r\n\r\nexport enum PieceType {\r\n  Full = 'full',\r\n  Image = 'image',\r\n  Quote = 'quote',\r\n}\r\n\r\nexport interface Date {\r\n  year: string;\r\n  month?: string;\r\n  day?: string;\r\n}\r\nexport interface Piece {\r\n  content: string | string[];\r\n  date: Date;\r\n  description?: string;\r\n  speaker?: string;\r\n  title?: string;\r\n  type: PieceType;\r\n}\r\n\r\nexport interface ArticleProps {\r\n  article: Piece;\r\n  handleInView?: () => void;\r\n  side?: string;\r\n}\r\n\r\nconst Article = (props: ArticleProps) => {\r\n  const { article, side = 'left' } = props;\r\n  const articleRef = createRef<HTMLDivElement>();\r\n\r\n  let sampleImgSrc: string;\r\n  if (article?.type === 'image') {\r\n    sampleImgSrc = require(`../../content/timelineImages/${article.content}`);\r\n  }\r\n\r\n  const handleContent = (content: string | string[]): string => {\r\n    let convertedStr = '';\r\n\r\n    if (typeof content === 'string') {\r\n      convertedStr = content\r\n        .replaceAll('<highlight>', '<span class=\"highlight\">')\r\n        .replaceAll('</highlight>', '</span>');\r\n    } else if (typeof content === 'object') {\r\n      convertedStr = content.toString();\r\n    }\r\n\r\n    return convertedStr;\r\n  };\r\n\r\n  const renderDate = (date: Date) => {\r\n    let result = date.year;\r\n\r\n    if (date.month && date.month.length > 0) result += `, ${date.month}`;\r\n\r\n    if (date.day && date.day.length > 0) result += ` ${date.day}`;\r\n\r\n    return <p className={clsx('article-aside_date')}>{result}</p>;\r\n  };\r\n\r\n  const renderArticleContent = (article: Piece) => {\r\n    const { content, speaker, type } = article;\r\n\r\n    switch (type) {\r\n      case PieceType.Full:\r\n        return (\r\n          <div\r\n            className={clsx('article-body')}\r\n            dangerouslySetInnerHTML={{ __html: handleContent(content) }}\r\n          />\r\n        );\r\n      // TODO: refactor image into a child component of the article body\r\n      case PieceType.Image:\r\n        return (\r\n          <div className={clsx('article-body', 'image')}>\r\n            <img src={sampleImgSrc} />\r\n          </div>\r\n        );\r\n      // TODO: refactor quote into a child component of the article-body\r\n      case PieceType.Quote: // no example of standalone quote\r\n        return (\r\n          <div className={clsx('article-quote')}>\r\n            <blockquote className={clsx('article-quote_content')}>{content}</blockquote>\r\n            <p className={clsx('article-quote_speaker')}>{speaker}</p>\r\n          </div>\r\n        );\r\n      default:\r\n        return <></>;\r\n    }\r\n  };\r\n\r\n  useLayoutEffect(() => {\r\n    const ctx = gsap.context(() => {\r\n      gsap.registerPlugin(ScrollTrigger);\r\n\r\n      const scrollTriggerOptions = (trigger: string) => {\r\n        return {\r\n          end: 'top center+=15%',\r\n          markers: true,\r\n          scrub: true,\r\n          start: 'top bottom-=5%',\r\n          trigger: trigger,\r\n        };\r\n      };\r\n\r\n      gsap.from('.article-content', {\r\n        autoAlpha: 0,\r\n        stagger: 1.0,\r\n        scale: 0.7,\r\n        x: 300,\r\n        scrollTrigger: scrollTriggerOptions('.article-content'),\r\n      });\r\n    }, articleRef);\r\n\r\n    return () => ctx.revert();\r\n  }, [articleRef]);\r\n\r\n  return (\r\n    <div ref={articleRef} className={clsx('article-wrapper', side)}>\r\n      <aside className=\"article-aside\">{renderDate(article.date)}</aside>\r\n      <article className={clsx('article-content')}>\r\n        {article.title && article.title.length > 0 && (\r\n          <header className=\"article-header\">\r\n            <h2 className=\"article-header_title\">{article.title}</h2>\r\n          </header>\r\n        )}\r\n        {renderArticleContent(article)}\r\n      </article>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Article;\r\n"],"names":["PieceType","props","article","side","articleRef","createRef","sampleImgSrc","type","require","concat","content","handleContent","convertedStr","replaceAll","toString","useLayoutEffect","ctx","gsap","context","registerPlugin","ScrollTrigger","trigger","from","autoAlpha","stagger","scale","x","scrollTrigger","end","markers","scrub","start","revert","_jsxs","ref","className","clsx","children","_jsx","date","result","year","month","length","day","renderDate","title","speaker","Full","dangerouslySetInnerHTML","__html","Image","src","Quote","_Fragment","renderArticleContent"],"sourceRoot":""}